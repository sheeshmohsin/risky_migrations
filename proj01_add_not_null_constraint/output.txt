(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py seed_large_table
Seeding SmallUser table...
Created 10 SmallUser records
Seeding LargeUser table with 100,000,000 rows...
  Created 10,000,000 rows...
  Created 20,000,000 rows...
  Created 30,000,000 rows...
  Created 40,000,000 rows...
  Created 50,000,000 rows...
  Created 60,000,000 rows...
  Created 70,000,000 rows...
  Created 80,000,000 rows...
  Created 90,000,000 rows...
  Created 100,000,000 rows...
Created 100,000,000 LargeUser records
Seeding complete!
(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py migrate demoapp 0001
Operations to perform:
  Target specific migration: 0001_initial, from demoapp
Running migrations:
  No migrations to apply.
  Your models in app(s): 'demoapp' have changes that are not yet reflected in a migration, and so won't be applied.
  Run 'manage.py makemigrations' to make new migrations, and then re-run 'manage.py migrate' to apply them.
(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py migrate demoapp 0002
Operations to perform:
  Target specific migration: 0002_largeuser_status_smalluser_status, from demoapp
Running migrations:
  Applying demoapp.0002_largeuser_status_smalluser_status...
============================================================
[2025-10-06 09:25:51] Starting migration: Adding status field
============================================================

[2025-10-06 09:25:51.637] Adding status field to SmallUser table...
[2025-10-06 09:25:51.648] ✓ SmallUser migration completed

[2025-10-06 09:25:51.654] Adding status field to LargeUser table...
[2025-10-06 09:26:54.609] ✓ LargeUser migration completed

============================================================
[2025-10-06 09:26:54] Migration completed
============================================================

 OK
(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py migrate demoapp 0003
Operations to perform:
  Target specific migration: 0003_largeuser_role_smalluser_role, from demoapp
Running migrations:
  Applying demoapp.0003_largeuser_role_smalluser_role... OK

(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py migrate demoapp 0004
Operations to perform:
  Target specific migration: 0004_backfill_role, from demoapp
Running migrations:
  Applying demoapp.0004_backfill_role...
[2025-10-06 09:29:07.331] Backfilling role in SmallUser...
[2025-10-06 09:29:07.332] ✓ Updated 10 SmallUser records

[2025-10-06 09:29:07.332] Backfilling role in LargeUser (in batches)...
  [2025-10-06 09:29:07] Backfilled 100,000 rows...
  [2025-10-06 09:29:08] Backfilled 200,000 rows...
  [2025-10-06 09:29:09] Backfilled 300,000 rows...
  [2025-10-06 09:29:09] Backfilled 400,000 rows...
  [2025-10-06 09:29:10] Backfilled 500,000 rows...
  [2025-10-06 09:29:10] Backfilled 600,000 rows...
  [2025-10-06 09:29:11] Backfilled 700,000 rows...
  [2025-10-06 09:29:11] Backfilled 800,000 rows...
  [2025-10-06 09:29:12] Backfilled 900,000 rows...
  [2025-10-06 09:29:12] Backfilled 1,000,000 rows...

(venv) sheesh@LAPTOP-NT9TS4KN:~/indee-risky-migrations/proj01_add_column_default$ python manage.py migrate demoapp 0005
Operations to perform:
  Target specific migration: 0005_alter_largeuser_role_alter_smalluser_role, from demoapp
Running migrations:
  Applying demoapp.0005_alter_largeuser_role_alter_smalluser_role...
[2025-10-07 05:17:43.653] Enforcing NOT NULL on SmallUser.role...
[2025-10-07 05:17:43.665] ✓ SmallUser.role constraint enforced

[2025-10-07 05:17:43.670] Enforcing NOT NULL on LargeUser.role...
[2025-10-07 05:20:36.684] ✓ LargeUser.role constraint enforced

 OK